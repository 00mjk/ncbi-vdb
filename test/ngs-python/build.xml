<project>

    <!-- This file is currently for use on Windows; Linux/Mac builds are run via gmake -->
    <property environment="env"/>
    <property name="vdb.build"      value="Debug" />
    <property name="vdb.platform"   value="x64" />
    
    <property name="ngs-source.dir" value="..\..\..\ngs" />
    <property name="build.dir"   value="${env.USERPROFILE}\win\cl\${vdb.platform}\${vdb.build}" />
    <property name="ngs.dir" value="${env.USERPROFILE}\ncbi-outdir\ngs-java" />
    
    <!-- Set this to full path to Python if not in PATH already -->
    <property name="python.exe"     value="python" />
	
    <target name="install">
        <exec executable="${python.exe}" dir="${ngs-source.dir}\ngs-python" failonerror="true" >
            <arg value="setup.py" />
            <arg value="install" />
            <arg value="--user" />
        </exec>
    </target>

    <target name="runtests" depends="install">
		<echo message="build.dir=${build.dir}" />
        <exec executable="${python.exe}" failonerror="true">
            <env key="PATH" value="${build.dir}\bin;${env.Path}"/>
            <arg value="tests.py" />
        </exec>
    </target>
    
</project>
